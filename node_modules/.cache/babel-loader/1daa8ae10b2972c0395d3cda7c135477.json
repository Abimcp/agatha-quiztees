{"ast":null,"code":"var _jsxFileName = \"/Volumes/Extreme SSD/agatha-quiztees/src/Pages/Leaderboard/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Leaderboardlist } from \"../../components\";\nimport \"./style.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Leaderboard = () => {\n  _s();\n\n  const [leaderboard, setLeaderboard] = useState([]);\n  const [error, setError] = useState(null);\n\n  const fetchLeaderboard = async () => {\n    try {\n      setError(null);\n      let {\n        data\n      } = await axios.get(\"http://localhost:3000/leaderboard/\"); // console.log({ data });\n\n      if (!data.scores.length) {\n        setError(\"There are no high scores\");\n      } else {\n        const array = data.scores.map(r => {\n          //let key = r.scores.id;\n          let username = r.username;\n          let category = r.category;\n          let score = r.score; // console.log(username, category, score);\n\n          return {\n            username,\n            category,\n            score\n          };\n        });\n        console.log(array);\n        setLeaderboard([array]); //console.log(leaderboard);\n      }\n    } catch (error) {\n      console.warn(error);\n      setError(\"There are no high scores available\");\n    }\n  };\n\n  const renderEntries = data => {\n    data.map(leaderboardEntry => /*#__PURE__*/_jsxDEV(Leaderboardlist, {\n      username: leaderboardEntry.username //key={i}\n      ,\n      category: leaderboardEntry.category,\n      score: leaderboardEntry.score\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this));\n  };\n\n  useEffect(() => {\n    if (leaderboard) {\n      fetchLeaderboard();\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \" LEADERBOARD \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), error ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 16\n    }, this) : renderEntries(leaderboard)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Leaderboard, \"6rJDSMSpGJ0rJ7x+UbDIJDI7GzY=\");\n\n_c = Leaderboard;\nexport default Leaderboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"Leaderboard\");","map":{"version":3,"sources":["/Volumes/Extreme SSD/agatha-quiztees/src/Pages/Leaderboard/index.js"],"names":["React","useState","useEffect","axios","Leaderboardlist","Leaderboard","leaderboard","setLeaderboard","error","setError","fetchLeaderboard","data","get","scores","length","array","map","r","username","category","score","console","log","warn","renderEntries","leaderboardEntry"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,eAAT,QAAgC,kBAAhC;AACA,OAAO,aAAP;;;AAEA,MAAMC,WAAW,GAAG,MAAM;AAAA;;AACxB,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCN,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAACO,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAC,IAAD,CAAlC;;AAEA,QAAMS,gBAAgB,GAAG,YAAY;AACnC,QAAI;AACFD,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACA,UAAI;AAAEE,QAAAA;AAAF,UAAW,MAAMR,KAAK,CAACS,GAAN,CAAU,oCAAV,CAArB,CAFE,CAGF;;AACA,UAAI,CAACD,IAAI,CAACE,MAAL,CAAYC,MAAjB,EAAyB;AACvBL,QAAAA,QAAQ,CAAC,0BAAD,CAAR;AACD,OAFD,MAEO;AACL,cAAMM,KAAK,GAAGJ,IAAI,CAACE,MAAL,CAAYG,GAAZ,CAAiBC,CAAD,IAAO;AACnC;AACA,cAAIC,QAAQ,GAAGD,CAAC,CAACC,QAAjB;AACA,cAAIC,QAAQ,GAAGF,CAAC,CAACE,QAAjB;AACA,cAAIC,KAAK,GAAGH,CAAC,CAACG,KAAd,CAJmC,CAKnC;;AACA,iBAAO;AAAEF,YAAAA,QAAF;AAAYC,YAAAA,QAAZ;AAAsBC,YAAAA;AAAtB,WAAP;AACD,SAPa,CAAd;AAQAC,QAAAA,OAAO,CAACC,GAAR,CAAYP,KAAZ;AACAR,QAAAA,cAAc,CAAC,CAACQ,KAAD,CAAD,CAAd,CAVK,CAWL;AACD;AACF,KAnBD,CAmBE,OAAOP,KAAP,EAAc;AACda,MAAAA,OAAO,CAACE,IAAR,CAAaf,KAAb;AACAC,MAAAA,QAAQ,CAAC,oCAAD,CAAR;AACD;AACF,GAxBD;;AA0BA,QAAMe,aAAa,GAAIb,IAAD,IAAU;AAC9BA,IAAAA,IAAI,CAACK,GAAL,CAAUS,gBAAD,iBACP,QAAC,eAAD;AACE,MAAA,QAAQ,EAAEA,gBAAgB,CAACP,QAD7B,CAEE;AAFF;AAGE,MAAA,QAAQ,EAAEO,gBAAgB,CAACN,QAH7B;AAIE,MAAA,KAAK,EAAEM,gBAAgB,CAACL;AAJ1B;AAAA;AAAA;AAAA;AAAA,YADF;AAQD,GATD;;AAWAlB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAII,WAAJ,EAAiB;AACfI,MAAAA,gBAAgB;AACjB;AACF,GAJQ,EAIN,EAJM,CAAT;AAMA,sBACE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAIGF,KAAK,gBAAG;AAAA,gBAAIA;AAAJ;AAAA;AAAA;AAAA;AAAA,YAAH,GAAoBgB,aAAa,CAAClB,WAAD,CAJzC;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AASD,CAxDD;;GAAMD,W;;KAAAA,W;AA0DN,eAAeA,WAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Leaderboardlist } from \"../../components\";\nimport \"./style.css\";\n\nconst Leaderboard = () => {\n  const [leaderboard, setLeaderboard] = useState([]);\n  const [error, setError] = useState(null);\n\n  const fetchLeaderboard = async () => {\n    try {\n      setError(null);\n      let { data } = await axios.get(\"http://localhost:3000/leaderboard/\");\n      // console.log({ data });\n      if (!data.scores.length) {\n        setError(\"There are no high scores\");\n      } else {\n        const array = data.scores.map((r) => {\n          //let key = r.scores.id;\n          let username = r.username;\n          let category = r.category;\n          let score = r.score;\n          // console.log(username, category, score);\n          return { username, category, score };\n        });\n        console.log(array);\n        setLeaderboard([array]);\n        //console.log(leaderboard);\n      }\n    } catch (error) {\n      console.warn(error);\n      setError(\"There are no high scores available\");\n    }\n  };\n\n  const renderEntries = (data) => {\n    data.map((leaderboardEntry) => (\n      <Leaderboardlist\n        username={leaderboardEntry.username}\n        //key={i}\n        category={leaderboardEntry.category}\n        score={leaderboardEntry.score}\n      />\n    ));\n  };\n\n  useEffect(() => {\n    if (leaderboard) {\n      fetchLeaderboard();\n    }\n  }, []);\n\n  return (\n    <div className=\"flex-container\">\n      <h1> LEADERBOARD </h1>\n\n      {/* <Leaderboardlist /> */}\n      {error ? <p>{error}</p> : renderEntries(leaderboard)}\n      {/* <Footer /> */}\n    </div>\n  );\n};\n\nexport default Leaderboard;\n"]},"metadata":{},"sourceType":"module"}